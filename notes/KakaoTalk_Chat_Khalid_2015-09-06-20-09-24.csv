Date,User,Message
2015-09-05 19:02:47,"freelinuxer","2nd file open was failing just because we opened it with O_CREATE."
2015-09-05 19:03:01,"freelinuxer","I checked in the files we worked on today."
2015-09-05 19:03:08,"freelinuxer","https://github.com/freelinuxer/fofs"
2015-09-05 19:03:14,"khalid","Ok"
2015-09-05 19:03:51,"freelinuxer","will start modifying those to use pointers . 
will turn fbfa.c into cmd that takes args."
2015-09-05 19:04:24,"freelinuxer","https://github.com/freelinuxer/fbfs"
2015-09-05 19:04:44,"freelinuxer","changed our repo name to fbfs"
2015-09-05 19:04:50,"khalid","Cool"
2015-09-05 19:33:50,"freelinuxer","https://github.com/freelinuxer/fbfs/blob/master/fbfs.c"
2015-09-05 19:34:13,"freelinuxer","changed fsfb.c using pointers… not sure why it didn't work last time. :- )"
2015-09-05 19:34:41,"khalid","O"
2015-09-05 19:34:48,"khalid","It should"
2015-09-05 19:35:01,"freelinuxer","now it works fine"
2015-09-05 19:35:54,"freelinuxer","[mixos@localhost fbfs]$ ./a.out
Writing to /tmp/mytest….
OPENING /tmp/mytest to read data ….
name: foo_fs
meta_type: 0
rootdir: /
fs_size: 524288
block_size: 512
[mixos@localhost fbfs]$"
2015-09-05 19:36:11,"khalid","This will help move us faster"
2015-09-05 19:36:45,"freelinuxer","will turn this into cmd."
2015-09-05 19:37:45,"khalid","Next sitting we have to work on the design for the commands and .h file"
2015-09-05 19:38:32,"freelinuxer",":- )"
2015-09-05 19:38:34,"freelinuxer","yep"
2015-09-06 15:25:47,"khalid","Hi Sungjin"
2015-09-06 15:27:24,"freelinuxer","Hello Bro"
2015-09-06 15:27:48,"khalid","I see  you are having fun with that file "
2015-09-06 15:28:05,"freelinuxer","Just git practice. :- )"
2015-09-06 15:28:11,"khalid","giid "
2015-09-06 15:28:14,"khalid","good"
2015-09-06 15:28:19,"freelinuxer","I also need to learn git"
2015-09-06 15:28:29,"khalid","me too "
2015-09-06 15:28:40,"freelinuxer","now I think I know how to branch off and merge."
2015-09-06 15:30:01,"freelinuxer","about cmds that we need to talk about them.. later on."
2015-09-06 15:30:34,"khalid","If you have time tomorrow, we can spend an hour discussing that"
2015-09-06 15:30:54,"freelinuxer","ok"
2015-09-06 15:31:24,"khalid","Today, I went to Encahnted Rock. We were there at ^;30 AM "
2015-09-06 15:31:27,"khalid","6:30"
2015-09-06 15:31:36,"khalid","It was nice. "
2015-09-06 15:32:01,"khalid","By the time when we left at 10:00. The entrance was so packed with car "
2015-09-06 15:32:03,"khalid","cars "
2015-09-06 15:32:13,"khalid","And It was getting HOT"
2015-09-06 15:32:21,"freelinuxer","good to hear.. I don't feel so good today. coughing a lot."
2015-09-06 15:32:35,"khalid","sorry to hear it"
2015-09-06 15:32:56,"freelinuxer","oh yes. early morning would be most pleasant to walk . I am sure ."
2015-09-06 15:33:20,"khalid","I hope you feel better "
2015-09-06 15:33:25,"khalid","take a rets"
2015-09-06 15:33:28,"khalid","rest"
2015-09-06 15:33:31,"freelinuxer","yesterday, I sort of cleaned up fbfs.c and created simple makefile. :- )"
2015-09-06 15:34:10,"khalid","Next, we need to create a file for functions that do mount operations"
2015-09-06 15:34:22,"khalid","One file for read/write operations"
2015-09-06 15:34:33,"freelinuxer","soon divide the file to writer and reader.. 
but .. at some point we should be able to mount this file as file system."
2015-09-06 15:34:37,"khalid","One file file for managing metadata"
2015-09-06 15:35:30,"freelinuxer","right."
2015-09-06 15:36:07,"freelinuxer","once mounted… regular  linux cmd need to work for dir/file operations ?"
2015-09-06 15:36:15,"khalid","yes, "
2015-09-06 15:36:25,"khalid","When we write the Kernel Extension "
2015-09-06 15:36:53,"freelinuxer","but… underneath it need to go through our library to do metadata/data write/read."
2015-09-06 15:36:56,"freelinuxer","ok"
2015-09-06 15:37:02,"khalid","Yes"
2015-09-06 15:37:38,"freelinuxer","another question."
2015-09-06 15:37:42,"khalid","When we write the Kernel extension, most of the library code will have to migrate to the Kernel Extension"
2015-09-06 15:38:20,"khalid","For the time being, we use library to be able to debug easily "
2015-09-06 15:38:32,"freelinuxer","when we nmap, right now we are nmaping 1024."
2015-09-06 15:38:49,"khalid","Yes, "
2015-09-06 15:39:10,"khalid","That is hard code for demo purpose only "
2015-09-06 15:39:27,"freelinuxer","but… we need to nmap block size ?"
2015-09-06 15:39:34,"khalid","Yes, "
2015-09-06 15:39:45,"freelinuxer","which is 512."
2015-09-06 15:39:54,"khalid","yes"
2015-09-06 15:40:09,"freelinuxer","but for first nmap, we don't know the block size that stored in the file."
2015-09-06 15:40:28,"freelinuxer","wait."
2015-09-06 15:40:57,"freelinuxer","so. we assume 512 ?"
2015-09-06 15:41:11,"khalid","The file system info will be written to a file like /etc/filesystems"
2015-09-06 15:41:23,"khalid","If you want to mount a file system"
2015-09-06 15:41:32,"khalid","you read the stanza first "
2015-09-06 15:42:06,"khalid","We will have to create a stanza file for the filesystem"
2015-09-06 15:42:10,"freelinuxer","let's say we have 2 G file."
2015-09-06 15:42:31,"khalid","ok"
2015-09-06 15:42:51,"freelinuxer","first block will hold meta data that has block size information."
2015-09-06 15:43:04,"khalid","yes"
2015-09-06 15:43:23,"khalid","and we do a lookup to find the file in the filesystem tree"
2015-09-06 15:43:31,"freelinuxer","we can't read it unril we nmap first block  and read from the meta data."
2015-09-06 15:43:38,"khalid","yes"
2015-09-06 15:44:05,"freelinuxer","question is when we do nmap for the first time.. we don't know block size."
2015-09-06 15:44:27,"khalid","The block size is an attribute of the filesystem "
2015-09-06 15:44:34,"khalid","Also, "
2015-09-06 15:44:44,"khalid","In case the stanza file is deleted"
2015-09-06 15:45:00,"khalid","The metadata block size "
2015-09-06 15:45:11,"khalid","The superblock"
2015-09-06 15:45:14,"khalid","we control it"
2015-09-06 15:45:20,"khalid","we know it "
2015-09-06 15:45:57,"khalid","Thus, we define the superblock size is 512 on all Filesystems "
2015-09-06 15:46:00,"freelinuxer","what you saying is … 
right now we put in meta data. 
later it will be part of stanza file which will be accessible before we even mount file .."
2015-09-06 15:46:06,"freelinuxer","is that right ?"
2015-09-06 15:46:12,"khalid","yes"
2015-09-06 15:46:25,"freelinuxer","ok"
2015-09-06 15:46:38,"khalid","But also, if the stanze is corrupted, we need to recover"
2015-09-06 15:46:41,"khalid","also"
2015-09-06 15:46:49,"freelinuxer","ok"
2015-09-06 15:47:14,"freelinuxer","512 would be enough size to hold meta data."
2015-09-06 15:47:38,"khalid","It should "
2015-09-06 15:47:52,"freelinuxer","got you. :- )"
2015-09-06 16:03:04,"freelinuxer","The contents of a file mapping (as opposed to an anonymous mapping;
       see MAP_ANONYMOUS below), are initialized using length bytes starting
       at offset offset in the file (or other object) referred to by the
       file descriptor fd.  offset must be a multiple of the page size as
       returned by sysconf(_SC_PAGE_SIZE)."
2015-09-06 16:03:56,"freelinuxer","offset needs to be multiple of page size."
2015-09-06 16:03:58,"khalid","yes"
2015-09-06 16:04:18,"khalid","offset when you mmap"
2015-09-06 16:04:21,"khalid","true"
2015-09-06 16:04:52,"khalid","But once, you get the page "
2015-09-06 16:05:03,"khalid","you can use a byte offset "
2015-09-06 16:05:34,"freelinuxer","are you saying that offset can be increment by 512 ?"
2015-09-06 16:06:04,"khalid","We are talking about 2 different types of offsets"
2015-09-06 16:06:05,"freelinuxer","oh."
2015-09-06 16:06:17,"khalid","yes"
2015-09-06 16:06:43,"khalid","Once you get the page size from vmm, you can move within it "
2015-09-06 16:06:48,"khalid","by bytes"
2015-09-06 16:07:43,"freelinuxer","since we mmap a portion of a file by size of 512 bytes every time."
2015-09-06 16:07:55,"khalid","yes"
2015-09-06 16:07:59,"khalid","and no "
2015-09-06 16:08:15,"khalid","we mmap all the time by the vmm size"
2015-09-06 16:08:37,"khalid","that is forced on us by the operating system"
2015-09-06 16:10:52,"freelinuxer","for example, 1st mmap fd points to beginning of a file. 

2nd mmap will be with fd+512 ?"
2015-09-06 16:51:38,"khalid","I think we will have to create a good mechanism for mmap"
2015-09-06 16:51:58,"khalid","We will talk about it"
2015-09-06 16:53:30,"freelinuxer","ok"
2015-09-06 16:53:50,"khalid","Take rest"
2015-09-06 16:54:37,"freelinuxer",";)"
2015-09-06 19:59:58,"freelinuxer","4096 is the system page size."
2015-09-06 20:00:17,"freelinuxer","on my machine. meaning that offset need to be multiple of this."
2015-09-06 20:00:46,"freelinuxer","so.. length that passed in mmap can be at least this size. right ?"
2015-09-06 20:00:59,"khalid","On a aix machine it can configured"
2015-09-06 20:01:07,"khalid","Yes "
2015-09-06 20:01:45,"khalid","When the user creates. A fs it should be a multiple of 4k"
2015-09-06 20:02:53,"freelinuxer","it is not relevant of file size. file size can be smaller than 4K. correct ?"
2015-09-06 20:03:22,"khalid","I am talking about FS size"
2015-09-06 20:03:35,"khalid","file size can be anything "
2015-09-06 20:03:37,"freelinuxer","yes. :- )"
2015-09-06 20:04:12,"khalid","We are going to have to do some arithmetics when we create the FS "
2015-09-06 20:04:32,"khalid","factor in the superblock size and other required data"
2015-09-06 20:04:52,"freelinuxer","this will be fun."
2015-09-06 20:05:05,"freelinuxer","Can I stop by early tomorrow ?"
2015-09-06 20:05:15,"khalid","By the way the questions yuo are asking are design issues we have to deal with "
2015-09-06 20:05:29,"khalid","Can you save this chat please"
2015-09-06 20:05:50,"khalid","Yes, You can come by 
"
2015-09-06 20:05:55,"khalid","I am at home "
2015-09-06 20:06:02,"khalid","I walked 5 miles today"
2015-09-06 20:06:09,"khalid","My legs are tired "
2015-09-06 20:06:13,"khalid",":)"
2015-09-06 20:06:17,"freelinuxer","Since you asked we meet tomorrow."
2015-09-06 20:06:42,"khalid","I think it will help the progress and gives us some focus"
2015-09-06 20:06:43,"freelinuxer","if you plan to spend some time with Irene, it's ok. I can stop by some other time. :- )"
2015-09-06 20:07:14,"freelinuxer","ok. let me stop by early tomorrow so that both of us can spend time with family later afternoon."
2015-09-06 20:07:18,"freelinuxer",":- )"
2015-09-06 20:07:23,"khalid","We are staying at home. She spends time coding her java cards "
2015-09-06 20:07:26,"khalid","Sure"
2015-09-06 20:07:38,"khalid","I am awake before 6:00 AM"
2015-09-06 20:07:41,"khalid",":)"
2015-09-06 20:08:40,"freelinuxer","haha. this will be fun. I feel better now."
2015-09-06 20:09:26,"khalid","This a picture Irene took this morning "
